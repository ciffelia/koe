# Koeの使い方（コマンド一覧）

Koeはテキストチャンネルに送信されたコマンドによって動作します。

## 読み上げ開始: `/join`, `/kjoin`

- VCに接続した状態で、読み上げたいテキストチャンネルで`/join`を送信すると、Botが入室し読み上げを開始します。
- `/join`を送信したチャンネルの新規メッセージが読み上げられます。
- `/join`の代わりに`/kjoin`を使うこともできます。
  - サーバーに複数のBotが存在していて、コマンドが重複しているときに便利です。

## 読み上げ終了: `/leave`, `/kleave`

- テキストチャンネルで`/leave`を送信すると、Botが退室します。
  - どのチャンネルでも使えます。
  - VCに接続していないメンバーでも使えます。
- `/leave`の代わりに`/kleave`を使うこともできます。
  - サーバーに複数のBotが存在していて、コマンドが重複しているときに便利です。
- 全員がVCから退室すると、Botも自動的に退室します。

## 読み上げ中のメッセージをスキップ: `/skip`, `/kskip`

- `/skip`を送信すると、現在読み上げているメッセージの読み上げを中止して、次のメッセージを読み上げます。
- `/skip`の代わりに`/kskip`を使うこともできます。
  - サーバーに複数のBotが存在していて、コマンドが重複しているときに便利です。

## 声を設定: `/voice`

- `/voice`を送信すると、あなたのメッセージを読み上げる際に使用する声を設定するドロップダウンリストが表示されます。
- 設定はメンバーごとに保存されます。また、メンバーはサーバーごとに異なる声を設定できます。
- はじめはメンバーごとにランダムな声が割り当てられています。

## 辞書を閲覧・編集: `/dict`

- あらかじめ、特定の語句に別の読み方を設定しておくことができます。これを辞書機能といいます。
- 辞書はサーバーごとに設定できます。1つのサーバーに1冊の辞書です。
- `/dict add 読み方を設定したい語句 読み方`を送信すると、辞書に語句を追加します。
- `/dict remove 語句`を送信すると、辞書から語句を削除します。
- `/dict view`を送信すると、辞書全体を表示します。

## 使い方を表示: `/help`

- このページのURLを表示します。

## 補足: 読み上げの仕組み

1. `/join`を送信したチャンネルでのメッセージを受信
2. スポイラー（ネタバレ、伏せ字）を削除
3. メッセージの送信者名と内容それぞれからURLを削除
4. 送信者名と内容を結合
   - ただし、同一メンバーによる10秒以内の連続したメッセージの場合は、名前は省略する
5. 辞書に登録されている語句を読み替え
6. 文字数が60文字を超えた場合、56文字目以降は切り捨て、「以下略」を末尾に追加
